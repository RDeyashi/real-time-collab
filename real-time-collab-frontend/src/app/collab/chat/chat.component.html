<section class="chat-container">
    <section class="user-list-sec">
        <div class="chat-sec">
            <div class="chat-text">Chat</div>
            <div class="line"></div>
        </div>

        <div class="user-block">
            @for (item of USER; track $index) {
            <div class="user" (click)="onClickUser($index)" [ngClass]="{user_active: $index === selectedUser}">
                <div class="profile-photo">
                    @if (item.logo) {
                        <img src="{{item.logo}}" width="20px">
                    } @else {
                        <b>{{item.name.split(" ")[0][0]}}{{item.name.split(" ")[item.name.split(" ").length -1][0]}}</b>
                    }
                    
                </div>
                <div class="user-sction">
                    <div class="user-name">{{item.name}}</div>
                    <div class="last-msg">{{item.lastMsg}}</div>
                </div>

            </div>
            }
        </div>
    </section>
    <section class="user-chat-sec">
        <div class="user-sec">
            <div class="user-details">

                <div class="profile-photo">

                    @if (USER[selectedUser].logo) {
                        <img src="{{USER[selectedUser].logo}}" width="20px">
                    } @else {
                        <b>{{USER[selectedUser].name.split(" ")[0][0]}}{{USER[selectedUser].name.split(" ")[USER[selectedUser].name.split(" ").length -1][0]}}</b>
                    }
                </div>
                <div style="font-weight: 500;">{{USER[selectedUser].name}}</div>
            </div>
            <div class="line"></div>
            <div class="hr-line"></div>
        </div>
        <div class="chat-section">
            <div class="chat-box">
                @for (item of MESSAGE; track $index) {
                @if (item.user == 'self') {
                <div style="text-align: end;">
                    <p class="self-msg">{{item.message}}</p>
                </div>
                } @else {
                <p class="other-msg">{{item.message}}</p>
                }
                }
            </div>

            <div class="input-box-total">
                <div class="input-box">
                    <form [formGroup]="messageForm">
                        <input type="text" placeholder="Type a message" formControlName="messageText">
                        <button type="submit" (click)="sendMessage()">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                <path
                                    d="M16.1 260.2c-22.6 12.9-20.5 47.3 3.6 57.3L160 376l0 103.3c0 18.1 14.6 32.7 32.7 32.7c9.7 0 18.9-4.3 25.1-11.8l62-74.3 123.9 51.6c18.9 7.9 40.8-4.5 43.9-24.7l64-416c1.9-12.1-3.4-24.3-13.5-31.2s-23.3-7.5-34-1.4l-448 256zm52.1 25.5L409.7 90.6 190.1 336l1.2 1L68.2 285.7zM403.3 425.4L236.7 355.9 450.8 116.6 403.3 425.4z" />
                            </svg>
                        </button>
                    </form>

                </div>
            </div>
        </div>
    </section>
</section>